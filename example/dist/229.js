(self.webpackChunk=self.webpackChunk||[]).push([[229],{758:(e,t,n)=>{"use strict";n.d(t,{jc:()=>le,nl:()=>ne,lH:()=>ae});var r=n(936);function i(e){return{type:e,required:!0}}function o(e){return{type:e,required:!1}}function l(...e){return 1===e.length?{default:e[0]}:{type:e[0],default:e[1]}}const s=e=>e+"px",a=e=>{let t=!1;return()=>{t||(t=!0,window.requestAnimationFrame((()=>{t=!1,e()})))}};var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},u="Expected a function",c=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt,v="object"==typeof d&&d&&d.Object===Object&&d,g="object"==typeof self&&self&&self.Object===Object&&self,b=v||g||Function("return this")(),y=Object.prototype.toString,w=Math.max,x=Math.min,W=function(){return b.Date.now()};function S(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(S(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=S(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=f.test(e);return n||m.test(e)?h(e.slice(2),n?2:8):p.test(e)?NaN:+e}var H=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(u);return S(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(e,t,n){var r,i,o,l,s,a,d=0,c=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(u);function m(t){var n=r,o=i;return r=i=void 0,d=t,l=e.apply(o,n)}function h(e){return d=e,s=setTimeout(g,t),c?m(e):l}function v(e){var n=e-a;return void 0===a||n>=t||n<0||p&&e-d>=o}function g(){var e=W();if(v(e))return b(e);s=setTimeout(g,function(e){var n=t-(e-a);return p?x(n,o-(e-d)):n}(e))}function b(e){return s=void 0,f&&r?m(e):(r=i=void 0,l)}function y(){var e=W(),n=v(e);if(r=arguments,i=this,a=e,n){if(void 0===s)return h(a);if(p)return s=setTimeout(g,t),m(a)}return void 0===s&&(s=setTimeout(g,t)),l}return t=C(t)||0,S(n)&&(c=!!n.leading,o=(p="maxWait"in n)?w(C(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),d=0,r=a=i=s=void 0},y.flush=function(){return void 0===s?l:b(W())},y}(e,t,{leading:r,maxWait:t,trailing:i})},F=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,T=/^0o[0-7]+$/i,I=parseInt,k="object"==typeof d&&d&&d.Object===Object&&d,K="object"==typeof self&&self&&self.Object===Object&&self,O=k||K||Function("return this")(),z=Object.prototype.toString,E=Math.max,L=Math.min,$=function(){return O.Date.now()};function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==z.call(e)}(e))return NaN;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(F,"");var n=j.test(e);return n||T.test(e)?I(e.slice(2),n?2:8):N.test(e)?NaN:+e}const R={visibility:"hidden"},M={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",visibility:"hidden",zIndex:-1},A={position:"absolute",left:0,top:0,transition:"0s",width:"100000px",height:"100000px"},V={position:"absolute",left:0,top:0,transition:"0s",width:"200%",height:"200%"},_=(0,r.aZ)({name:"ResizeSensor",props:{debounce:l(0),throttle:l(50),handleResized:i(Function)},setup(e){const t=(0,r.iH)(null),n=(0,r.iH)(null),i=()=>{const e=t.value,r=n.value;e&&r&&(e.scrollLeft=1e5,e.scrollTop=1e5,r.scrollLeft=1e5,r.scrollTop=1e5)},o=(0,r.Fl)((()=>{let t=()=>{e.handleResized(),i()};return e.throttle>0&&(t=H(t,e.throttle)),e.debounce>0&&(t=function(e,t,n){var r,i,o,l,s,a,d=0,u=!1,c=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,d=t,l=e.apply(o,n)}function m(e){return d=e,s=setTimeout(v,t),u?f(e):l}function h(e){var n=e-a;return void 0===a||n>=t||n<0||c&&e-d>=o}function v(){var e=$();if(h(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-a);return c?L(n,o-(e-d)):n}(e))}function g(e){return s=void 0,p&&r?f(e):(r=i=void 0,l)}function b(){var e=$(),n=h(e);if(r=arguments,i=this,a=e,n){if(void 0===s)return m(a);if(c)return s=setTimeout(v,t),f(a)}return void 0===s&&(s=setTimeout(v,t)),l}return t=P(t)||0,D(n)&&(u=!!n.leading,o=(c="maxWait"in n)?E(P(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),d=0,r=a=i=s=void 0},b.flush=function(){return void 0===s?l:g($())},b}(t,e.debounce)),t}));return(0,r.bv)(i),(0,r.dl)(i),()=>(0,r.Wm)("div",{class:"resize-sensor",style:R},[(0,r.Wm)("div",{ref:t,style:M,onScroll:o.value},[(0,r.Wm)("div",{style:A},null)]),(0,r.Wm)("div",{ref:n,style:M,onScroll:o.value},[(0,r.Wm)("div",{style:V},null)])])}}),Y={display:"flex",flexFlow:"column nowrap",overflow:"hidden"},Z={overflow:"auto",position:"relative",flex:"1 1 0px",boxSizing:"border-box",margin:0,padding:0,border:0},q=(0,r.aZ)({name:"Vlist",props:{getItemKey:i(Function),contentWidth:i(String),rowStyleCycle:l(Number,1),rowHeight:i(Number),itemCount:i(Number),sliceItems:i(Function),overscan:l(Number,8),renderHeader:o(Function),renderRow:i(Function)},emits:{scroll:e=>!0,rowclick:e=>!0,rowdblclick:e=>!0,rowcontextmenu:e=>!0,rowdragenter:e=>!0,rowdragleave:e=>!0,rowdragstart:e=>!0,rowdragend:e=>!0,rowdragover:e=>!0,rowdrop:e=>!0},setup(e,{emit:t}){const n=(0,r.qj)({scrollLeft:0,scrollTop:0,scrollDirection:"forward",bodyWidth:0,bodyHeight:0,vScrollbarWidth:0}),i=(0,r.Fl)((()=>{let t=Math.floor(n.scrollTop/e.rowHeight);return"backward"===n.scrollDirection&&(t=Math.max(0,t-e.overscan)),e.rowStyleCycle>1&&(t-=t%e.rowStyleCycle),t})),o=(0,r.Fl)((()=>{const{scrollTop:t,bodyHeight:r,scrollDirection:i}=n;let o=Math.ceil((t+r)/e.rowHeight);return"forward"===i&&(o+=e.overscan||8),o})),l=(0,r.Fl)((()=>({display:"flex",flex:"0 0 auto",boxSizing:"border-box",minWidth:e.contentWidth,position:"relative",left:s(-1*n.scrollLeft),overflow:"hidden"}))),d=(0,r.Fl)((()=>({display:"flex",flexFlow:"column nowrap",flex:"1 1 auto",position:"relative",boxSizing:"border-box",height:s(e.itemCount*e.rowHeight),overflow:"hidden",minWidth:e.contentWidth}))),u=(0,r.Fl)((()=>({display:"flex",width:"100%",height:s(e.rowHeight)}))),c=(0,r.Fl)((()=>({height:s(e.rowHeight*i.value),flex:"0 0 auto"}))),p=(0,r.iH)(null),f=(0,r.iH)(null),m=()=>{const e=p.value;if(!e)return;const t=e.clientWidth,r=e.clientHeight,i=e.offsetWidth-e.clientWidth-e.clientLeft;n.bodyWidth===t&&n.bodyHeight===r&&n.vScrollbarWidth===i||(n.bodyWidth=t,n.bodyHeight=r,n.vScrollbarWidth=i)},h=a(m),v=()=>{if(m(),!p.value)return;const{scrollLeft:e,scrollTop:t}=p.value;n.scrollLeft=e,n.scrollTop=t};(0,r.bv)(v),(0,r.dl)(v);const g=a((()=>{if(!p.value)return;const{scrollLeft:e,scrollTop:r}=p.value;n.scrollLeft=e,n.scrollTop=r,t("scroll",{scrollLeft:e,scrollTop:r})})),b=(0,r.Fl)((()=>{const{renderRow:n,sliceItems:l,getItemKey:s}=e,a=i.value;return l(a,o.value).map(((e,t)=>({item:e,index:t+a}))).map((({item:e,index:i})=>(0,r.Wm)("div",{class:"vlist-row",key:s(e),style:u.value,onClick:n=>t("rowclick",{item:e,index:i,event:n}),onDblclick:n=>t("rowdblclick",{item:e,index:i,event:n}),onContextmenu:n=>t("rowcontextmenu",{item:e,index:i,event:n}),onDragenter:n=>t("rowdragenter",{item:e,index:i,event:n}),onDragleave:n=>t("rowdragleave",{item:e,index:i,event:n}),onDragstart:n=>t("rowdragstart",{item:e,index:i,event:n}),onDragend:n=>t("rowdragend",{item:e,index:i,event:n}),onDragover:n=>t("rowdragover",{item:e,index:i,event:n}),onDrop:n=>t("rowdrop",{item:e,index:i,event:n})},[n({item:e,index:i})])))}));return{ensureVisible:t=>{const r=p.value;if(!r)return;const{rowHeight:i}=e,{bodyHeight:o}=n;let{scrollTop:l}=n;const s=i*t,a=Math.max(i*t-o+i,0);if(s<l)l=s;else{if(!(l<a))return;l=a}r.scrollTop=l},render_:()=>(0,r.Wm)("div",{class:"vlist-container",style:Y},[e.renderHeader&&(0,r.Wm)("div",{class:"vlist-header-row",style:l.value},[e.renderHeader(n.vScrollbarWidth)]),(0,r.Wm)("div",{class:"vlist-scrollable",ref:p,style:Z,onScroll:g},[(0,r.Wm)(_,{handleResized:h},null),(0,r.Wm)("div",{class:"vlist-content",ref:f,style:d.value},[(0,r.Wm)(_,{handleResized:h},null),(0,r.Wm)("div",{class:"vlist-spacer",style:c.value},null),b.value])])])}},render(){return this.render_()}});function B(){return q}const G=e=>({minWidth:s(e),maxWidth:s(e),height:"100%",boxSizing:"border-box",cursor:"col-resize"}),J=({index:e,width:t,handlePointerdown:n,handleHoveredIndexChanged:i},o)=>(0,r.Wm)("div",{style:G(t),onClick:e=>{e.stopPropagation()},onPointerdown:t=>{n(e,t)},onMouseenter:()=>i(e),onMouseleave:()=>i(-1)},null),U=(0,r.aZ)({name:"VtableRow",props:{item:i(),columns:i(Array),columnWidths:i(),index:i(Number),height:i(Number),renderCell:i(Function),renderSplitter:i(Function)},setup(e){const t=(0,r.Fl)((()=>({display:"flex",flex:"1 1 auto",width:"100%",height:s(e.height),lineHeight:s(e.height),boxSizing:"border-box",margin:0})));return()=>{const{columns:n,item:i,index:o,columnWidths:l,renderCell:a,renderSplitter:d}=e;return(0,r.Wm)("div",{style:t.value},[n.map(((t,n)=>{return(0,r.Wm)(r.HY,null,[(0,r.Wm)("div",{key:"cell-"+t.id,class:["vtable-cell",t.className],style:(u=l[t.id]||t.defaultWidth,{minWidth:s(u),width:s(u),lineHeight:s(e.height),margin:0,boxSizing:"border-box",overflow:"hidden"})},[a({index:o,item:i,columnId:t.id})]),d(n)]);var u}))])}}}),X=(0,r.aZ)({name:"VtableBase",props:{rowHeight:i(Number),headerHeight:o(Number),columns:i(Array),itemCount:i(Number),sliceItems:i(Function),rowStyleCycle:l(1),splitterWidth:l(3),getRowClass:o(Function),splitterClass:l(String,"vtable-splitter"),draggingSplitterClass:l(String,"vtable-dragging-splitter"),hoveredSplitterClass:o(String),getItemKey:i(Function),state:i(Object),overscan:l(Number,8),renderCell:i(Function)},emits:{"update:state":e=>!0},setup(e,{emit:t}){const n=B(),i=(0,r.Fl)((()=>e.headerHeight||e.rowHeight)),o=(0,r.iH)(-1),l=(0,r.iH)(-1),a=(0,r.iH)([]),d=(0,r.iH)(null),u=e=>({display:"flex",position:"relative",flex:"1 1 auto",width:"100%",height:s(i.value),lineHeight:s(i.value),boxSizing:"border-box",margin:"0",whiteSpace:"nowrap",paddingRight:s(e)}),c=(0,r.Fl)((()=>e.splitterClass)),p=(0,r.Fl)((()=>e.draggingSplitterClass)),f=(0,r.Fl)((()=>e.hoveredSplitterClass||e.splitterClass)),m=(0,r.qj)([]),h=e=>{if(e<0)return;const t=e===o.value?p.value:e===l.value?f.value:c.value;m[e]!==t&&(m[e]=t)},v=()=>{m.length!==e.columns.length&&(m.length=e.columns.length);for(let e=0;e<m.length;++e)h(e)};(0,r.YP)((()=>e.columns.length),v),(0,r.YP)((()=>e.splitterClass),v),(0,r.YP)((()=>e.draggingSplitterClass),v),(0,r.YP)((()=>e.hoveredSplitterClass),v),(0,r.YP)((()=>l.value),((e,t)=>{h(t),h(e)})),(0,r.YP)((()=>o.value),((e,t)=>{h(t),h(e)})),v();const g=(0,r.Fl)((()=>e.columns.map((t=>(e.state.widths[t.id]||t.defaultWidth)+e.splitterWidth)).reduce(((e,t)=>e+t),0))),b=(n,r)=>{if(0===a.value.length)return;const i=r.target;if(!i)return;const l=a.value[n],s=e.columns[n],d=l.clientWidth,u=r.pageX,c=s.minWidth||5;i.setPointerCapture(r.pointerId);const p=H((n=>{n.preventDefault(),n.stopPropagation();const r=n.pageX-u,i=Math.max(d+r,c);((n,r)=>{const i={...e.state.widths,[n.id]:r};t("update:state",{widths:i})})(s,i)}),50),f=e=>{i.releasePointerCapture(e.pointerId),i.removeEventListener("pointerup",f),i.removeEventListener("pointermove",p),o.value=-1};i.addEventListener("pointermove",p),i.addEventListener("pointerup",f),o.value=n},y=e=>{l.value=e},w=t=>(0,r.Wm)(J,{key:"sp-"+t,class:m[t],index:t,width:e.splitterWidth,handlePointerdown:b,handleHoveredIndexChanged:y},null),x=t=>(0,r.Wm)("div",{class:"vtable-header",style:u(t)},[e.columns.map(((t,n)=>{return[(0,r.Wm)("div",{key:"cell-"+t.id,ref:e=>{a.value[n]=e},class:["vtable-header-cell",t.className],style:(o=e.state.widths[t.id]||t.defaultWidth,{minWidth:s(o),width:s(o),lineHeight:s(i.value),boxSizing:"border-box",margin:"0",overflow:"hidden"})},[void 0===t.title?t.id:t.title]),w(n)];var o}))]),W=t=>(0,r.Wm)(U,{columns:e.columns,columnWidths:e.state.widths,item:t.item,index:t.index,height:e.rowHeight,renderSplitter:w,renderCell:e.renderCell},null);return{ensureVisible:e=>{d.value?.ensureVisible(e)},render_:()=>(0,r.Wm)(n,{ref:d,style:{flex:"1 1 auto"},getItemKey:e.getItemKey,itemCount:e.itemCount,sliceItems:e.sliceItems,rowHeight:e.rowHeight,overscan:e.overscan,rowStyleCycle:e.rowStyleCycle,contentWidth:s(g.value),renderHeader:x,renderRow:W},null)}},render(){return this.render_()}});function Q(){return X}var ee=e=>{const t={};return Object.keys(e).forEach((n=>{t[`on${n[0].toUpperCase()}${n.substr(1)}`]=e[n]})),t};const te=(0,r.aZ)({name:"Vtable",props:{rowHeight:i(Number),headerHeight:o(Number),columns:i(Array),items:i(Array),rowStyleCycle:l(1),splitterWidth:l(3),getRowClass:o(Function),splitterClass:l(String,"vtable-splitter"),draggingSplitterClass:l(String,"vtable-dragging-splitter"),hoveredSplitterClass:o(String),getItemKey:i(Function),state:i(Object),overscan:l(Number,8),renderCell:i(Function)},emits:{"update:state":e=>!0},setup(e,{emit:t}){const n=Q(),i=(0,r.iH)(null),o=(t,n)=>e.items.slice(t,n);return{ensureVisible:e=>{i.value?.ensureVisible(e)},render_:()=>{const{items:l,...s}=e;return(0,r.Wm)(n,(0,r.dG)({ref:i},s,ee({"update:state":e=>t("update:state",e)}),{itemCount:l.length,sliceItems:o}),null)}}},render(){return this.render_()}});function ne(){return te}const re=({expanded:e,size:t})=>{const n={transform:`rotate(${e?90:0}deg)`,transition:"0.1s transform ease"};return(0,r.Wm)("svg",{class:"vtreetable-button",width:t,height:t,style:n},[(0,r.Wm)("polygon",{transform:`translate(${t/2}, ${t/2})`,points:"-1,-4 3,0 -1,4"},null)])},ie={display:"flex"},oe=Symbol(),le=(0,r.aZ)({name:"ExpandableCell",props:{nodeState:i(Object)},setup(e,{slots:t}){const n=(0,r.f3)(oe),i=t=>{t.preventDefault(),t.stopPropagation(),n?.toggleExpand(e.nodeState.data)},o=(0,r.Fl)((()=>({marginLeft:s(e.nodeState.level*(n?.indentWidth.value||12)),marginRight:"4px",marginTop:"auto",marginBottom:"auto",textAlign:"center",minWidth:"12px",cursor:"pointer"})));return()=>(0,r.Wm)("div",{style:ie},[(0,r.Wm)("div",{style:o.value,onClick:i},[e.nodeState.children&&(0,r.Wm)(re,{expanded:e.nodeState.expanded,size:12},null)]),t.default&&t.default()])}}),se=function(){const e=Q();return(0,r.aZ)({name:"VtreeTable",props:{rowHeight:i(Number),headerHeight:o(Number),indentWidth:l(Number,12),columns:i(Array),rootNodes:i(Array),rowStyleCycle:l(Number,1),splitterWidth:l(Number,3),splitterClass:l(String,"vtable-splitter"),draggingSplitterClass:l(String,"vtable-dragging-splitter"),hoveredSplitterClass:o(String),getItemKey:i(Function),getRowClass:o(Function),state:i(Object),overscan:l(Number,8),renderCell:i(Function)},emits:{"update:state":e=>!0},setup(t,{emit:n}){const i=(0,r.Fl)((()=>t.indentWidth)),o=(0,r.qj)({expandedKeys:{}}),l=(e,n,r)=>{const i=t.getItemKey(e.data).toString()in o.expandedKeys;if(r.push({...e,expanded:i,level:n}),e.children&&i)for(const t of e.children)l(t,n+1,r)},s=(0,r.Fl)((()=>{const e=[];for(const n of t.rootNodes)l(n,0,e);return e})),a=(e,t)=>s.value.slice(e,t),d=e=>t.getItemKey(e.data),u=e=>{const n=t.getItemKey(e).toString();n in o.expandedKeys?delete o.expandedKeys[n]:o.expandedKeys[n]=!0},c=e=>{const n=t.getItemKey(e.data).toString();if(o.expandedKeys[n]=!0,e.children)for(const t of e.children)c(t)},p={"update:state":e=>{n("update:state",e)},rowclick:()=>console.log("rowclick")};return(0,r.JJ)(oe,{toggleExpand:u,indentWidth:i}),{toggleExpand:u,expandAll:()=>{for(const e of t.rootNodes)c(e)},collapseAll:()=>{o.expandedKeys={}},render_:()=>{const{rootNodes:n,getItemKey:i,indentWidth:o,...l}=t;return(0,r.Wm)(e,(0,r.dG)(ee(p),{itemCount:s.value.length,sliceItems:a,getItemKey:d},l),null)}}},render(){return this.render_()}})}();function ae(){return se}},113:e=>{e.exports=e=>{const t={};return Object.keys(e).forEach((n=>{t[`on${n[0].toUpperCase()}${n.substr(1)}`]=e[n]})),t}}}]);
//# sourceMappingURL=229.js.map